import{j as e,F as x,l as j,n as F,u as I,r as c,e as R,f as N,o as C,p as g}from"./index-BwO6VKef.js";import{P as v}from"./index-Ya6tsU9F.js";import{I as L}from"./IngredientCard-BC9Co1GE.js";import"./ThemeProvider-CfCpptdN.js";import"./divWithClassName-OX3V9osv.js";const B="_container_ltame_1",T="_header_ltame_11",S="_title_ltame_25",b="_titleIcon_ltame_39",k="_emptyContainer_ltame_53",w="_emptyIcon_ltame_79",q="_emptyTitle_ltame_91",E="_list_ltame_105",H="_item_ltame_119",P="_favoriteButton_ltame_207",U="_heartIcon_ltame_245",t={container:B,header:T,title:S,titleIcon:b,emptyContainer:k,emptyIcon:w,emptyTitle:q,list:E,item:H,favoriteButton:P,heartIcon:U};function u({favoriteRecipes:s,setFavoriteRecipes:i,onRemoveFavorite:o}){function r(a){o(a);const l=s.filter(n=>n.id!==a);i(l)}return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.header,children:[e.jsx(x,{className:t.titleIcon}),e.jsx("h2",{className:t.title,children:"Crave List"})]}),s.length===0?e.jsxs("div",{className:t.emptyContainer,children:[e.jsx(j,{className:t.emptyIcon}),e.jsx("p",{className:t.emptyTitle,children:"No favorites yet"}),e.jsx("p",{className:t.emptySubtitle,children:"Save your favorite recipes and they'll appear here"})]}):e.jsx("ul",{className:t.list,children:s.map(a=>e.jsx("li",{className:t.item,children:e.jsx(L,{recipe:a,children:e.jsxs("button",{onClick:()=>r(a.id),className:t.favoriteButton,"aria-label":"Remove from favorites",children:[e.jsx(F,{className:t.heartIcon}),e.jsx("span",{children:"Remove Favorite"})]})})},a.id))})]})}u.propTypes={favoriteRecipes:v.array.isRequired,setFavoriteRecipes:v.func.isRequired,onRemoveFavorite:v.func.isRequired};function G(){const{user:s,isLoaded:i,isSignedIn:o}=I(),{recipes:r,loading:a}=c.useContext(R),[l,n]=c.useState([]),[f,p]=c.useState(!0);if(c.useEffect(()=>{async function m(){if(i&&o){p(!0);try{const d=await C(s.id),h=r.filter(y=>d.includes(y.id));n(h)}finally{p(!1)}}}m()},[i,o,s,r]),!i||a||f)return e.jsx(N,{});if(!o)return e.jsx("div",{children:"You must be signed in to view your favorites."});const _=async m=>{try{await g(s.id,m)}catch(d){console.error("Failed to remove favorite",d)}};return e.jsx(u,{favoriteRecipes:l,setFavoriteRecipes:n,onRemoveFavorite:_})}export{G as default};
