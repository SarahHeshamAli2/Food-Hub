import{j as e,F as x,p as j,q as F,u as I,r as c,e as R,f as N,s as C,t as g}from"./index-CrJr986o.js";import{P as v}from"./index-CDi5GIpL.js";import{I as L}from"./IngredientCard-f6olGaVt.js";import"./ThemeProvider-Bpn7ZLiN.js";import"./divWithClassName-CJVT5JB0.js";const B="_container_162rm_1",T="_header_162rm_6",S="_title_162rm_13",b="_titleIcon_162rm_20",k="_emptyContainer_162rm_27",q="_emptyIcon_162rm_40",w="_emptyTitle_162rm_46",E="_list_162rm_53",H="_item_162rm_60",P="_favoriteButton_162rm_104",U="_heartIcon_162rm_123",t={container:B,header:T,title:S,titleIcon:b,emptyContainer:k,emptyIcon:q,emptyTitle:w,list:E,item:H,favoriteButton:P,heartIcon:U};function u({favoriteRecipes:i,setFavoriteRecipes:r,onRemoveFavorite:a}){function o(s){a(s);const l=i.filter(n=>n.id!==s);r(l)}return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.header,children:[e.jsx(x,{className:t.titleIcon}),e.jsx("h2",{className:t.title,children:"Crave List"})]}),i.length===0?e.jsxs("div",{className:t.emptyContainer,children:[e.jsx(j,{className:t.emptyIcon}),e.jsx("p",{className:t.emptyTitle,children:"No favorites yet"}),e.jsx("p",{className:t.emptySubtitle,children:"Save your favorite recipes and they'll appear here"})]}):e.jsx("ul",{className:t.list,children:i.map(s=>e.jsx("li",{className:t.item,children:e.jsx(L,{recipe:s,children:e.jsxs("button",{onClick:()=>o(s.id),className:t.favoriteButton,"aria-label":"Remove from favorites",children:[e.jsx(F,{className:t.heartIcon}),e.jsx("span",{children:"Remove Favorite"})]})})},s.id))})]})}u.propTypes={favoriteRecipes:v.array.isRequired,setFavoriteRecipes:v.func.isRequired,onRemoveFavorite:v.func.isRequired};function G(){const{user:i,isLoaded:r,isSignedIn:a}=I(),{recipes:o,loading:s}=c.useContext(R),[l,n]=c.useState([]),[f,p]=c.useState(!0);if(c.useEffect(()=>{async function m(){if(r&&a){p(!0);try{const d=await C(i.id),h=o.filter(y=>d.includes(y.id));n(h)}finally{p(!1)}}}m()},[r,a,i,o]),!r||s||f)return e.jsx(N,{});if(!a)return e.jsx("div",{children:"You must be signed in to view your favorites."});const _=async m=>{try{await g(i.id,m)}catch(d){console.error("Failed to remove favorite",d)}};return e.jsx(u,{favoriteRecipes:l,setFavoriteRecipes:n,onRemoveFavorite:_})}export{G as default};
