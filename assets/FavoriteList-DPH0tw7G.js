import{j as e,F as x,o as j,p as F,u as I,r as c,d as R,e as N,q as C,s as g}from"./index-BfOoBtXQ.js";import{P as v}from"./index-2J7pJPoi.js";import{I as L}from"./IngredientCard-CVbCV0KJ.js";import"./ThemeProvider-DO1M_6sK.js";import"./divWithClassName-DXE6DARc.js";const B="_container_162rm_1",T="_header_162rm_6",S="_title_162rm_13",b="_titleIcon_162rm_20",k="_emptyContainer_162rm_27",q="_emptyIcon_162rm_40",w="_emptyTitle_162rm_46",E="_list_162rm_53",H="_item_162rm_60",P="_favoriteButton_162rm_104",U="_heartIcon_162rm_123",t={container:B,header:T,title:S,titleIcon:b,emptyContainer:k,emptyIcon:q,emptyTitle:w,list:E,item:H,favoriteButton:P,heartIcon:U};function u({favoriteRecipes:i,setFavoriteRecipes:r,onRemoveFavorite:o}){function a(s){o(s);const l=i.filter(n=>n.id!==s);r(l)}return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.header,children:[e.jsx(x,{className:t.titleIcon}),e.jsx("h2",{className:t.title,children:"Crave List"})]}),i.length===0?e.jsxs("div",{className:t.emptyContainer,children:[e.jsx(j,{className:t.emptyIcon}),e.jsx("p",{className:t.emptyTitle,children:"No favorites yet"}),e.jsx("p",{className:t.emptySubtitle,children:"Save your favorite recipes and they'll appear here"})]}):e.jsx("ul",{className:t.list,children:i.map(s=>e.jsx("li",{className:t.item,children:e.jsx(L,{recipe:s,children:e.jsxs("button",{onClick:()=>a(s.id),className:t.favoriteButton,"aria-label":"Remove from favorites",children:[e.jsx(F,{className:t.heartIcon}),e.jsx("span",{children:"Remove Favorite"})]})})},s.id))})]})}u.propTypes={favoriteRecipes:v.array.isRequired,setFavoriteRecipes:v.func.isRequired,onRemoveFavorite:v.func.isRequired};function G(){const{user:i,isLoaded:r,isSignedIn:o}=I(),{recipes:a,loading:s}=c.useContext(R),[l,n]=c.useState([]),[_,p]=c.useState(!0);if(c.useEffect(()=>{async function m(){if(r&&o){p(!0);try{const d=await C(i.id),h=a.filter(y=>d.includes(y.id));n(h)}finally{p(!1)}}}m()},[r,o,i,a]),!r||s||_)return e.jsx(N,{});if(!o)return e.jsx("div",{children:"You must be signed in to view your favorites."});const f=async m=>{try{await g(i.id,m)}catch(d){console.error("Failed to remove favorite",d)}};return e.jsx(u,{favoriteRecipes:l,setFavoriteRecipes:n,onRemoveFavorite:f})}export{G as default};
