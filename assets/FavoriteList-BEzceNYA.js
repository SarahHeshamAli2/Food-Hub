import{j as e,F as x,o as j,p as F,u as I,r as c,d as R,e as N,q as C,s as g}from"./index-BuM992-L.js";import{P as v}from"./index-D3cs-l7P.js";import{I as L}from"./IngredientCard-DrO3pmVU.js";import"./ThemeProvider-Dxv97OvZ.js";import"./divWithClassName-HNBRu_D1.js";const B="_container_ltame_1",T="_header_ltame_11",S="_title_ltame_25",b="_titleIcon_ltame_39",k="_emptyContainer_ltame_53",q="_emptyIcon_ltame_79",w="_emptyTitle_ltame_91",E="_list_ltame_105",H="_item_ltame_119",P="_favoriteButton_ltame_207",U="_heartIcon_ltame_245",t={container:B,header:T,title:S,titleIcon:b,emptyContainer:k,emptyIcon:q,emptyTitle:w,list:E,item:H,favoriteButton:P,heartIcon:U};function u({favoriteRecipes:a,setFavoriteRecipes:i,onRemoveFavorite:o}){function r(s){o(s);const l=a.filter(n=>n.id!==s);i(l)}return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.header,children:[e.jsx(x,{className:t.titleIcon}),e.jsx("h2",{className:t.title,children:"Crave List"})]}),a.length===0?e.jsxs("div",{className:t.emptyContainer,children:[e.jsx(j,{className:t.emptyIcon}),e.jsx("p",{className:t.emptyTitle,children:"No favorites yet"}),e.jsx("p",{className:t.emptySubtitle,children:"Save your favorite recipes and they'll appear here"})]}):e.jsx("ul",{className:t.list,children:a.map(s=>e.jsx("li",{className:t.item,children:e.jsx(L,{recipe:s,children:e.jsxs("button",{onClick:()=>r(s.id),className:t.favoriteButton,"aria-label":"Remove from favorites",children:[e.jsx(F,{className:t.heartIcon}),e.jsx("span",{children:"Remove Favorite"})]})})},s.id))})]})}u.propTypes={favoriteRecipes:v.array.isRequired,setFavoriteRecipes:v.func.isRequired,onRemoveFavorite:v.func.isRequired};function G(){const{user:a,isLoaded:i,isSignedIn:o}=I(),{recipes:r,loading:s}=c.useContext(R),[l,n]=c.useState([]),[_,p]=c.useState(!0);if(c.useEffect(()=>{async function m(){if(i&&o){p(!0);try{const d=await C(a.id),h=r.filter(y=>d.includes(y.id));n(h)}finally{p(!1)}}}m()},[i,o,a,r]),!i||s||_)return e.jsx(N,{});if(!o)return e.jsx("div",{children:"You must be signed in to view your favorites."});const f=async m=>{try{await g(a.id,m)}catch(d){console.error("Failed to remove favorite",d)}};return e.jsx(u,{favoriteRecipes:l,setFavoriteRecipes:n,onRemoveFavorite:f})}export{G as default};
